#!/bin/bash
# getgnm  - Gets a week's worth of cryptics from the Globe and Mail

set -x
baseurl="https://xwords.net/xwordjs/files/html5/"
#Simply Daily are at:
### http://simplydailypuzzles.com/daily-cryptic/puzzles/yyyy-mm/
#and Chambers are at:
###https://chambers.co.uk/wp-content/uploads/2018/12/ChambersDec18.js
num=$1

for (( i=0; i<6; num++, i++ )); do
    # Get the file
    wget --wait=3 --random-wait $baseurl/${num}crp.js

    # Convert it from javascript to xml
    js2xml ${num}crp.js > ${num}crp.xml
    
    # Convert that to puz
    xml2puz ${num}crp.xml ${num}.puz
done
